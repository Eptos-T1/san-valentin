<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>San ValentÃ­n</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
  min-height:100vh;
  background:linear-gradient(180deg,#ffc1dd 0%,#ffd9ec 50%,#fff2f8 100%);
  font-family:Arial,sans-serif;
  overflow:hidden;
  color:#5a0033;
}

/* PARTICULAS */
.particles{position:fixed;inset:0;pointer-events:none;z-index:0}
.particle{
  position:absolute;
  bottom:-50px;
  font-size:18px;
  animation:floatUp linear infinite;
  opacity:.8;
}
@keyframes floatUp{
  from{transform:translateY(0);opacity:0}
  to{transform:translateY(-120vh);opacity:1}
}

/* SCREENS */
.screen{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:.6s ease;
  transform:scale(.96);
  padding:20px;
  text-align:center;
}
.screen.active{
  opacity:1;
  pointer-events:all;
  transform:scale(1);
}

/* BOTONES */
.main-btn{
  width:220px;
  cursor:pointer;
  animation:float 2.5s ease-in-out infinite;
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-18px)}
}

.buttons{display:flex;gap:30px;margin-top:30px}

button{
  padding:14px 38px;
  border-radius:30px;
  border:none;
  font-size:18px;
  cursor:pointer;
  background:linear-gradient(135deg,#ff9ecf,#ffb6d9);
  color:white;
  box-shadow:0 12px 25px rgba(255,182,217,.55);
  transition:.2s;
}
button:active{transform:scale(.95)}

input{
  padding:14px 20px;
  border-radius:25px;
  border:2px solid #ffb6d9;
  font-size:18px;
  outline:none;
  margin-top:20px;
  width:260px;
  text-align:center;
}

/* CARRUSEL AUTOMATICO */
.carousel{
  width:100%;
  max-width:900px;
  height:380px;
  overflow:hidden;
  margin-top:25px;
}
.carousel-track{
  display:flex;
  height:100%;
  transition:transform .6s ease;
}
.carousel img{
  min-width:300px;
  margin:0 15px;
  border-radius:22px;
  transform:scale(.9);
  box-shadow:0 25px 40px rgba(255,182,217,.45);
}

/* QUIZ DESLIZABLE */
.quiz-carousel{
  display:flex;
  gap:20px;
  margin-top:30px;
  overflow-x:auto;
  padding:20px;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
}
.quiz-carousel img{
  flex:0 0 auto;
  width:260px;
  border-radius:20px;
  cursor:pointer;
  scroll-snap-align:center;
  box-shadow:0 20px 35px rgba(255,182,217,.45);
  transition:.3s;
}
.quiz-carousel img:hover{
  transform:scale(1.05);
}

/* MODAL */
.modal-overlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  z-index:100;
  align-items:center;
  justify-content:center;
}
.modal-content{
  background:white;
  padding:40px;
  border-radius:30px;
  text-align:center;
  max-width:85%;
}

.final-name{
  font-size:36px;
  font-weight:bold;
  margin-top:15px;
  text-transform:uppercase;
  color:#d32f2f;
}

/* RESPONSIVE */
@media(max-width:768px){
  body{overflow:auto}
  h1{font-size:26px}
  h2{font-size:22px}
  .main-btn{width:160px}
  .buttons{flex-direction:column;gap:15px}
  button,input{width:220px;font-size:16px}
  .carousel{height:260px}
  .carousel img{min-width:220px;margin:0 10px}
  .final-name{font-size:24px}
}
</style>
</head>

<body>

<div class="particles" id="particles"></div>

<div id="start" class="screen active">
  <img class="main-btn"
  src="https://media.discordapp.net/attachments/960045487371735110/1470535565534298327/image-removebg-preview.png?ex=698e4978&is=698cf7f8&hm=c26d920777feb9fca91bc11cf8adefd3727aafe90c150a0a91bf80d2390d3d66&=&format=webp&quality=lossless"
  onclick="go('start','question')">
</div>

<div id="question" class="screen">
  <h1>Â¿Quieres seguir siendo<br>mi San ValentÃ­n? ðŸ’–</h1>
  <div class="buttons">
    <button onclick="go('question','contract')">SÃ­</button>
    <button onclick="go('question','noScreen')">No</button>
  </div>
</div>

<div id="contract" class="screen">
  <h2>ðŸ’Œ Cerrar contrato ðŸ’Œ</h2>
  <p>Inserta tu nombre para firmar el compromiso</p>
  <input id="nameInput" placeholder="Tu nombre aquÃ­...">
  <button onclick="closeContract()">Cerrar contrato</button>
</div>

<div id="story" class="screen">
  <p>Cada recuerdo contigo es especialâ€¦ ðŸ’•</p>
  <div class="carousel">
    <div class="carousel-track" id="track">
      <img src="https://media.discordapp.net/attachments/960045487371735110/1470540729381027850/image.jpg?ex=698e4e47&is=698cfcc7&hm=9e64cdbb903927ab789333a9b2b9b11e50b9549272c935c819cfc6ac212c2d34&=&format=webp&width=1141&height=856">
      <img src="https://media.discordapp.net/attachments/960045487371735110/1470540730144395471/image.jpg?ex=698e4e47&is=698cfcc7&hm=f6fbf79712486fa6d8454256aaf3209485ab71952c4749ce8ee8335f19e9d545&=&format=webp&width=642&height=856">
      <img src="https://media.discordapp.net/attachments/960045487371735110/1470540730782191720/image.jpg?ex=698e4e47&is=698cfcc7&hm=0569200fab11a6dfe981de2482642fe1d0136d447ef817a3dfeb2bf94de155a5&=&format=webp&width=642&height=856">
      <img src="https://media.discordapp.net/attachments/960045487371735110/1470540731738226820/image.jpg?ex=698e4e47&is=698cfcc7&hm=da5fb2244df20364c5c5bc76af384c7d0a0fe8e547a71eabff5bedb271d876e6&=&format=webp&width=642&height=856">
      <img src="https://media.discordapp.net/attachments/960045487371735110/1470540732300267570/image.jpg?ex=698e4e47&is=698cfcc7&hm=f04dabd9db4064018675f3984d3468a478a716dd8e259943aa5e3df4d38b3791&=&format=webp&width=642&height=856">
      <img src="https://media.discordapp.net/attachments/960045487371735110/1470540733005037578/image.jpg?ex=698e4e48&is=698cfcc8&hm=9a678498c9991e6f21348d0a0014832ec5c8c10a0d37039d62eb0e9f04be2d8b&=&format=webp&width=642&height=856">

   
   
    </div>
  </div>
  <button style="margin-top:20px" onclick="go('story','quiz')">Siguiente</button>
</div>

<div id="quiz" class="screen">
  <h2>Â¿CuÃ¡l es mi foto favorita? ðŸ’–</h2>
  <div class="quiz-carousel">
  <img onclick="pick(1)" src="https://media.discordapp.net/attachments/960045487371735110/1470540729381027850/image.jpg?ex=698e4e47&is=698cfcc7&hm=9e64cdbb903927ab789333a9b2b9b11e50b9549272c935c819cfc6ac212c2d34&=&format=webp&width=1141&height=856">
  <img onclick="pick(2)" src="https://media.discordapp.net/attachments/960045487371735110/1470540731738226820/image.jpg?ex=698e4e47&is=698cfcc7&hm=da5fb2244df20364c5c5bc76af384c7d0a0fe8e547a71eabff5bedb271d876e6&=&format=webp&width=642&height=856">
  <img onclick="pick(3)" src="https://media.discordapp.net/attachments/960045487371735110/1470540733005037578/image.jpg?ex=698e4e48&is=698cfcc8&hm=9a678498c9991e6f21348d0a0014832ec5c8c10a0d37039d62eb0e9f04be2d8b&=&format=webp&width=642&height=856">

  </div>
</div>

<div id="modalMensaje" class="modal-overlay">
  <div class="modal-content">
    <h2>Â¡Adivinaste! ðŸ’–</h2>
    <p>Esta es mi foto favorita porque ese dÃ­a supe que eras tÃº. Â¡Te amo!</p>
    <button onclick="cerrarMensaje()">Continuar</button>
  </div>
</div>

<div id="finalContract" class="screen">
  <h1>ðŸ’– Contrato cerrado ðŸ’–</h1>
  <div class="final-name" id="finalName"></div>
</div>

<script>
let userName="";
let i=0;
const track=document.getElementById("track");

function go(a,b){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove("active"));
  setTimeout(()=>document.getElementById(b).classList.add("active"),200);
}

function closeContract(){
  userName=document.getElementById("nameInput").value.trim();
  if(!userName)return alert("Â¡Escribe tu nombre! ðŸ’—");
  go('contract','story');
}

setInterval(()=>{
  if(document.getElementById('story').classList.contains('active')){
    const imgWidth=track.children[0].offsetWidth+30;
    i=(i+1)%track.children.length;
    track.style.transform=`translateX(${-i*imgWidth}px)`;
  }
},3000);

function pick(index){
  if(index===3){
    document.getElementById("modalMensaje").style.display="flex";
  }
}

function cerrarMensaje(){
  document.getElementById("modalMensaje").style.display="none";
  document.getElementById("finalName").innerText=userName;
  go('quiz','finalContract');
}

/* PartÃ­culas */
const p=document.getElementById("particles");
for(let i=0;i<25;i++){
  const d=document.createElement("div");
  d.className="particle";
  d.innerHTML="ðŸ’—";
  d.style.left=Math.random()*100+"%";
  d.style.animationDuration=8+Math.random()*8+"s";
  p.appendChild(d);
}
</script>

</body>
</html>
